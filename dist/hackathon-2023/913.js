/*! For license information please see 913.js.LICENSE.txt */
"use strict";(self.webpackChunkhackathon2023_mfe=self.webpackChunkhackathon2023_mfe||[]).push([[913],{3913:(e,t,r)=>{r.r(t);var n=r(745),s=r(136),a=r(5146);const i={en:{hackathon2023Mfe:JSON.parse('{"actions":{"ok":"OK","cancel":"Cancel","retry":"Retry"},"aiSearchModal":{"affectedProcessesHeading":"Affected processes:","affectedProcessesRetrievalErrorHeading":"Unable to retrieve affected processes","affectedProcessesRetrievalErrorMessage":"There was an error retrieving the list of affected processes. Please click retry to try again.","questionHeading":"Change Description","questionRemainingCharacters":"Remaining Characters: {{amount}}","questionTextAreaPlaceholder":"Please enter a reason for archiving this process.","contentDescription":"Example value","header":"Example header","reviewAffectedProcessesQuestion":"(This may take a moment)","reviewAffectedProcessesLink":"Review affected processes"},"errors":{"unsupportedDependencyType":"Unsupported dependency type: {{dependencyType}}"}}')},fr:{hackathon2023Mfe:JSON.parse('{"actions":{"ok":"i18n.actions.ok","cancel":"i18n.actions.cancel","retry":"i18n.actions.retry"},"aiSearchModal":{"affectedProcessesHeading":"i18n.aiSearchModal.affectedProcessesHeading","affectedProcessesRetrievalErrorHeading":"i18n.aiSearchModal.affectedProcessesRetrievalErrorHeading","affectedProcessesRetrievalErrorMessage":"i18n.aiSearchModal.affectedProcessesRetrievalErrorMessage","questionHeading":"i18n.aiSearchModal.questionHeading","questionRemainingCharacters":"i18n.aiSearchModal.questionRemainingCharacters{{amount}}","questionTextAreaPlaceholder":"i18n.aiSearchModal.questionTextAreaPlaceholder","contentDescription":"i18n.aiSearchModal.contentDescription","header":"i18n.aiSearchModal.header","reviewAffectedProcessesQuestion":"i18n.aiSearchModal.reviewAffectedProcessesQuestion","reviewAffectedProcessesLink":"i18n.aiSearchModal.reviewAffectedProcessesLink"},"errors":{"unsupportedDependencyType":"i18n.errors.unsupportedDependencyType{{dependencyType}}"}}')}},o=(0,a.createInstance)({fallbackLng:"en",debug:!0,cleanCode:!0,resources:i,defaultNS:"hackathon2023Mfe"});o.use(s.initReactI18next).init();const c=o;var l,u=r(8416),d=r(2571);function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f{constructor(){this._anyWindow=window,this._renderAISearchModal=new d.Subject}async start(){this._anyWindow.hackathon2023RenderAISearchModal=e=>{this._renderAISearchModal.next(e)}}get renderAISearchModalReceived(){return this._renderAISearchModal}}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}l=f,p(f,"getInstance",(()=>(l._windowEventService||(l._windowEventService=new l),l._windowEventService))),p(f,"resetInstance",(()=>(l._windowEventService=new l,l._windowEventService)));class v{constructor(){h(this,"propertyChangeSubject",new d.Subject),h(this,"getContext",(()=>({prop1:this._prop1,prop2:this._prop2}))),h(this,"getJsonStringContext",(()=>JSON.stringify(this.getContext()))),this._prop1="",this._prop2=""}set prop1(e){this._prop1!==e&&(this._prop1=e,this.propertyChangeSubject.next({propertyName:"prop1",propertyValue:e}))}get prop1(){return this._prop1}set prop2(e){this._prop2!==e&&(this._prop2=e,this.propertyChangeSubject.next({propertyName:"prop2",propertyValue:e}))}get prop2(){return this._prop2}static getInstance(){return this._contextService||(this._contextService=new v),this._contextService}static resetInstance(){return this._contextService=new v,this._contextService}}var S=r(2332);function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y{constructor(){g(this,"logUnknownError",(e=>{const t=e,r={description:t.message?t.message:e,exception:e};this.logError(r)})),g(this,"logError",(e=>{this.errorSubject.next(e)})),g(this,"logSuccess",(e=>{this.successSubject.next(e)})),this.errorSubject=new d.Subject,this.successSubject=new d.Subject}static getInstance(){return this._validationService||(this._validationService=new y),this._validationService}static resetInstance(){return this._validationService=new y,this._validationService}}var b=r(5893),m=function(e){return e.medium="medium",e}(m||{});const w=e=>{const{t}=(0,s.useTranslation)(),r=3e3,n=(0,u.useRef)(v.getInstance()),[a,i]=((0,u.useRef)(y.getInstance()),(0,u.useState)(!1)),[o,c]=(0,u.useState)(!1),[l,d]=(0,u.useState)([]),[p,f]=(0,u.useState)(""),[h,g]=(0,u.useState)(!1),[w,j]=(0,u.useState)(!0),x=async()=>{let e=[];d(e),g(!1),i(!0);const t=window.setTimeout((()=>{c(!0)}),500);window.clearTimeout(t),c(!1),d(e)};if((0,u.useEffect)((()=>{i(!1),c(!1),d([]),f(""),g(!1)}),[e.aiSearchModalOpen]),(0,u.useEffect)((()=>{0===p.length?j(!0):w&&j(!1)}),[p]),!e.aiSearchModalOpen)return(0,b.jsx)(b.Fragment,{});const P=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"review-affected-processes-link",tabIndex:0,onClick:x,children:t("aiSearchModal.reviewAffectedProcessesLink")}),` ${t("aiSearchModal.reviewAffectedProcessesQuestion")}`]}),_=(0,b.jsx)("ul",{className:"affected-processes-list",children:l.map(((e,t)=>(0,b.jsx)("span",{},t)))}),M=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"affected-processes-retrieval-error-heading",children:t("aiSearchModal.affectedProcessesRetrievalErrorHeading")}),(0,b.jsx)("span",{className:"affected-processes-retrieval-error-message",children:t("aiSearchModal.affectedProcessesRetrievalErrorMessage")}),(0,b.jsx)(S.Button,{className:"retry-button",leftIconType:"refresh",variant:"secondary",onNeClick:x,children:t("actions.retry")})]}),O=(0,b.jsx)("div",{className:"spinner-container",children:(0,b.jsx)(S.Spinner,{size:m.medium,wrapped:!1})});return(0,b.jsxs)(S.Modal,{header:t("aiSearchModal.header"),size:"medium",open:e.aiSearchModalOpen,onNeClose:()=>e.onAISearchModalClose({decision:"cancel"}),children:[(0,b.jsxs)("div",{className:"content-container",children:[(0,b.jsx)("span",{className:"content-description",children:t("aiSearchModal.contentDescription")}),(0,b.jsxs)("div",{className:"affected-processes-container",children:[(0,b.jsx)("span",{className:"affected-processes-heading-container",children:a?t("aiSearchModal.affectedProcessesHeading"):P}),(0,b.jsx)("div",{className:"affected-processes-list-container",children:o?O:h?M:l.length>0?_:null})]}),(0,b.jsxs)("div",{className:"question-container",children:[(0,b.jsx)(S.Label,{className:"question-heading",children:t("aiSearchModal.questionHeading")}),(0,b.jsx)(S.Textarea,{className:"question-textarea",rows:7,maxlength:r,placeholder:t("aiSearchModal.questionTextAreaPlaceholder"),onNeInput:e=>{const t=e.detail.value.substring(0,r);f(t)}}),(0,b.jsx)("span",{className:"question-remaining-characters",children:t("aiSearchModal.questionRemainingCharacters",{amount:r-p.length>0?r-p.length:0})})]})]}),(0,b.jsx)(S.Button,{className:"cancel-button right-start",slot:"footer",variant:"secondary",onNeClick:()=>e.onAISearchModalClose({decision:"cancel"}),children:t("actions.cancel")}),(0,b.jsx)(S.Button,{className:"ok-button",slot:"footer",disabled:w,onNeClick:()=>{if(!w){const t={decision:"ok",data:{prop1:n.current.prop1,prop2:p}};e.onAISearchModalClose(t)}},children:t("actions.ok")})]})};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const x=()=>{const e=(0,u.useRef)(v.getInstance()),t=(0,u.useRef)(f.getInstance()),[r,n]=(0,u.useState)(!1);(0,u.useEffect)((()=>{const r=t.current.renderAISearchModalReceived.subscribe((t=>{e.current.prop1=t.prop1,t.prop2&&(e.current.prop2=t.prop2),n(!0)}));return()=>{r.unsubscribe()}}),[]);const s={aiSearchModalOpen:r,onAISearchModalClose:async()=>{n(!1)}};return(0,b.jsx)(w,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){var n,s,a;n=e,s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(s))in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s))};class P{constructor(){var e,t,r;e=this,r=e=>{this.showHideStatusOverlaySubject.next(e)},(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t="triggerShowHideStatusOverlay"))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.showHideStatusOverlaySubject=new d.Subject}static getInstance(){return this._eventService||(this._eventService=new P),this._eventService}static resetInstance(){return this._eventService=new P,this._eventService}}const _=()=>{const e=(0,u.useRef)(P.getInstance()),[t,r]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{const t=e.current.showHideStatusOverlaySubject.subscribe({next:e=>r(e)});return()=>{t.unsubscribe()}}),[]),t?(0,b.jsx)(S.StatusOverlay,{show:t,delay:500}):null};let M=function(e){return e.info="info",e.success="success",e.danger="danger",e.warning="warning",e}({});const O=()=>{const e=(0,u.useRef)(y.getInstance()),t=e=>{const t=document.querySelector("ne-toast-notification");null==t||t.showToast(e)};return(0,u.useEffect)((()=>{const r=e.current.errorSubject.subscribe({next:e=>(e=>{const r={content:e.description,"alert-type":M.danger,closable:!0,autoClose:!1};t(r)})(e)}),n=e.current.successSubject.subscribe({next:e=>(e=>{const r={content:e.description,"alert-type":M.success,closable:!0,autoClose:!0,duration:600};t(r)})(e)});return()=>{r.unsubscribe(),n.unsubscribe()}}),[]),(0,b.jsx)(S.ToastNotification,{})},E=()=>{const e=(0,u.useRef)(f.getInstance());return(0,u.useEffect)((()=>{e.current.start()}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x,{}),(0,b.jsx)(_,{}),(0,b.jsx)(O,{})]})},k=document.getElementById("hackathon2023-mfe"),I=(0,n.s)(k),R=c;R.changeLanguage(window.navigator.language),I.render((0,b.jsx)(s.I18nextProvider,{i18n:R,children:(0,b.jsx)(E,{})}))},745:(e,t,r)=>{var n=r(1051);t.s=n.createRoot,n.hydrateRoot},5251:(e,t,r)=>{var n=r(8416),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,a={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!c.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:l,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},5893:(e,t,r)=>{e.exports=r(5251)}}]);